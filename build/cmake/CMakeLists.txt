set(PACKAGE_NAME shish)
set(PACKAGE_VERSION 0.8)
set(PACKAGE_TARNAME "${PACKAGE_NAME}-${PACKAGE_VERSION}")

project(${PACKAGE_NAME} C)

cmake_minimum_required(VERSION 2.4)

configure_file("${CMAKE_SOURCE_DIR}/config.h.cmake" "${CMAKE_BINARY_DIR}/config.h")

set(CMAKE_C_FLAGS_DEBUG "-g -ggdb -O0")

set(SOURCEDIR "../..")

if(${CMAKE_BUILD_TYPE} MATCHES "Debug")
  add_definitions(-DDEBUG=1)
endif(${CMAKE_BUILD_TYPE} MATCHES "Debug")


include_directories(${SOURCEDIR} ${SOURCEDIR}/build/cmake ${SOURCEDIR}/lib ${SOURCEDIR}/src)
#include_directories(${CMAKE_BINARY_DIR} lib src)

add_definitions(-DHAVE_CONFIG_H=1)

set(LIBSOURCES ${SOURCEDIR}/lib/open/open_read.c ${SOURCEDIR}/lib/open/open_trunc.c ${SOURCEDIR}/lib/open/open_temp.c ${SOURCEDIR}/lib/mmap.h ${SOURCEDIR}/lib/shell/shell_dirname.c ${SOURCEDIR}/lib/shell/shell_gethostname.c ${SOURCEDIR}/lib/shell/shell_init.c ${SOURCEDIR}/lib/shell/shell_getopt.c ${SOURCEDIR}/lib/shell/shell_alloc.c ${SOURCEDIR}/lib/shell/shell_canonicalize.c ${SOURCEDIR}/lib/shell/shell_realpath.c ${SOURCEDIR}/lib/shell/shell_error.c ${SOURCEDIR}/lib/shell/shell_errorn.c ${SOURCEDIR}/lib/shell/shell_getcwd.c ${SOURCEDIR}/lib/shell/shell_readlink.c ${SOURCEDIR}/lib/shell/shell_basename.c ${SOURCEDIR}/lib/shell/shell_strdup.c ${SOURCEDIR}/lib/shell/shell_realloc.c ${SOURCEDIR}/lib/shell/shell_fnmatch.c ${SOURCEDIR}/lib/shell/shell_gethome.c ${SOURCEDIR}/lib/uint32.h ${SOURCEDIR}/lib/uint64.h ${SOURCEDIR}/lib/scan/scan_uint.c ${SOURCEDIR}/lib/scan/scan_8long.c ${SOURCEDIR}/lib/scan/scan_long.c ${SOURCEDIR}/lib/scan/scan_int.c ${SOURCEDIR}/lib/scan/scan_ulong.c ${SOURCEDIR}/lib/byte.h ${SOURCEDIR}/lib/open.h ${SOURCEDIR}/lib/uint16.h ${SOURCEDIR}/lib/str.h ${SOURCEDIR}/lib/fmt.h ${SOURCEDIR}/lib/uint32/uint32_random.c ${SOURCEDIR}/lib/uint32/uint32_prng.c ${SOURCEDIR}/lib/uint32/uint32_seed.c ${SOURCEDIR}/lib/buffer/buffer_default.c ${SOURCEDIR}/lib/buffer/buffer_putsa.c ${SOURCEDIR}/lib/buffer/buffer_putc.c ${SOURCEDIR}/lib/buffer/buffer_mmapread.c ${SOURCEDIR}/lib/buffer/buffer_putsflush.c ${SOURCEDIR}/lib/buffer/buffer_putulong.c ${SOURCEDIR}/lib/buffer/buffer_getc.c ${SOURCEDIR}/lib/buffer/buffer_fromsa.c ${SOURCEDIR}/lib/buffer/buffer_mmapread_fd.c ${SOURCEDIR}/lib/buffer/buffer_flush.c ${SOURCEDIR}/lib/buffer/buffer_putnspace.c ${SOURCEDIR}/lib/buffer/buffer_free.c ${SOURCEDIR}/lib/buffer/buffer_stubborn.c ${SOURCEDIR}/lib/buffer/buffer_truncfile.c ${SOURCEDIR}/lib/buffer/buffer_skip_until.c ${SOURCEDIR}/lib/buffer/buffer_putnlflush.c ${SOURCEDIR}/lib/buffer/buffer_prefetch.c ${SOURCEDIR}/lib/buffer/buffer_mmapprivate.c ${SOURCEDIR}/lib/buffer/buffer_stubborn2.c ${SOURCEDIR}/lib/buffer/buffer_putm_internal.c ${SOURCEDIR}/lib/buffer/buffer_get.c ${SOURCEDIR}/lib/buffer/buffer_fromstr.c ${SOURCEDIR}/lib/buffer/buffer_get_until.c ${SOURCEDIR}/lib/buffer/buffer_put.c ${SOURCEDIR}/lib/buffer/buffer_tosa.c ${SOURCEDIR}/lib/buffer/buffer_puts.c ${SOURCEDIR}/lib/buffer/buffer_close.c ${SOURCEDIR}/lib/buffer/buffer_putflush.c ${SOURCEDIR}/lib/buffer/buffer_putspace.c ${SOURCEDIR}/lib/buffer/buffer_dump.c ${SOURCEDIR}/lib/buffer/buffer_init.c ${SOURCEDIR}/lib/buffer/buffer_feed.c ${SOURCEDIR}/lib/scan.h ${SOURCEDIR}/lib/fmt/fmt_xlonglong.c ${SOURCEDIR}/lib/fmt/fmt_long.c ${SOURCEDIR}/lib/fmt/fmt_xlong.c ${SOURCEDIR}/lib/fmt/fmt_ulong0.c ${SOURCEDIR}/lib/fmt/fmt_ulong.c ${SOURCEDIR}/lib/fmt/fmt_minus.c ${SOURCEDIR}/lib/byte/byte_zero.c ${SOURCEDIR}/lib/byte/byte_diff.c ${SOURCEDIR}/lib/byte/byte_copyr.c ${SOURCEDIR}/lib/byte/byte_copy.c ${SOURCEDIR}/lib/byte/byte_fill.c ${SOURCEDIR}/lib/byte/byte_rchr.c ${SOURCEDIR}/lib/byte/byte_chr.c ${SOURCEDIR}/lib/mmap/mmap_private.c ${SOURCEDIR}/lib/mmap/mmap_read_fd.c ${SOURCEDIR}/lib/mmap/mmap_read.c ${SOURCEDIR}/lib/shell.h ${SOURCEDIR}/lib/buffer.h ${SOURCEDIR}/lib/safemult.h ${SOURCEDIR}/lib/stralloc/stralloc_cats.c ${SOURCEDIR}/lib/stralloc/stralloc_diffs.c ${SOURCEDIR}/lib/stralloc/stralloc_zero.c ${SOURCEDIR}/lib/stralloc/stralloc_write.c ${SOURCEDIR}/lib/stralloc/stralloc_remove.c ${SOURCEDIR}/lib/stralloc/stralloc_free.c ${SOURCEDIR}/lib/stralloc/stralloc_catlong0.c ${SOURCEDIR}/lib/stralloc/stralloc_copyb.c ${SOURCEDIR}/lib/stralloc/stralloc_insertb.c ${SOURCEDIR}/lib/stralloc/stralloc_catc.c ${SOURCEDIR}/lib/stralloc/stralloc_copys.c ${SOURCEDIR}/lib/stralloc/stralloc_copy.c ${SOURCEDIR}/lib/stralloc/stralloc_move.c ${SOURCEDIR}/lib/stralloc/stralloc_ready.c ${SOURCEDIR}/lib/stralloc/stralloc_catulong0.c ${SOURCEDIR}/lib/stralloc/stralloc_trunc.c ${SOURCEDIR}/lib/stralloc/stralloc_cat.c ${SOURCEDIR}/lib/stralloc/stralloc_catb.c ${SOURCEDIR}/lib/stralloc/stralloc_init.c ${SOURCEDIR}/lib/stralloc/stralloc_nul.c ${SOURCEDIR}/lib/stralloc/stralloc_readyplus.c ${SOURCEDIR}/lib/stralloc.h ${SOURCEDIR}/lib/str/str_copyn.c ${SOURCEDIR}/lib/str/str_diff.c ${SOURCEDIR}/lib/str/str_len.c ${SOURCEDIR}/lib/str/str_rchr.c ${SOURCEDIR}/lib/str/str_chr.c ${SOURCEDIR}/lib/str/str_copy.c)

add_library(libshish ${LIBSOURCES})

set(SOURCES ${SOURCEDIR}/src/sig.h ${SOURCEDIR}/src/redir.h ${SOURCEDIR}/src/var.h ${SOURCEDIR}/src/fd.h ${SOURCEDIR}/src/fdstack/fdstack_link.c ${SOURCEDIR}/src/fdstack/fdstack_search.c ${SOURCEDIR}/src/fdstack/fdstack_pop.c ${SOURCEDIR}/src/fdstack/fdstack_data.c ${SOURCEDIR}/src/fdstack/fdstack_flatten.c ${SOURCEDIR}/src/fdstack/fdstack_fork.c ${SOURCEDIR}/src/fdstack/fdstack_unref.c ${SOURCEDIR}/src/fdstack/fdstack_push.c ${SOURCEDIR}/src/fdstack/fdstack_root.c ${SOURCEDIR}/src/fdstack/fdstack_npipes.c ${SOURCEDIR}/src/fdstack/fdstack_update.c ${SOURCEDIR}/src/fdstack/fdstack_pipe.c ${SOURCEDIR}/src/fdstack/fdstack_dump.c ${SOURCEDIR}/src/fdstack/fdstack_unlink.c ${SOURCEDIR}/src/redir/redir_eval.c ${SOURCEDIR}/src/redir/redir_dup.c ${SOURCEDIR}/src/redir/redir_open.c ${SOURCEDIR}/src/redir/redir_source.c ${SOURCEDIR}/src/redir/redir_addhere.c ${SOURCEDIR}/src/redir/redir_here.c ${SOURCEDIR}/src/redir/redir_parse.c ${SOURCEDIR}/src/job/job_fork.c ${SOURCEDIR}/src/job/job_wait.c ${SOURCEDIR}/src/job/job_new.c ${SOURCEDIR}/src/job/job_init.c ${SOURCEDIR}/src/job/job_status.c ${SOURCEDIR}/src/vartab.h ${SOURCEDIR}/src/expand/expand_unescape.c ${SOURCEDIR}/src/expand/expand_param.c ${SOURCEDIR}/src/expand/expand_args.c ${SOURCEDIR}/src/expand/expand_copysa.c ${SOURCEDIR}/src/expand/expand_catsa.c ${SOURCEDIR}/src/expand/expand_argv.c ${SOURCEDIR}/src/expand/expand_vars.c ${SOURCEDIR}/src/expand/expand_glob.c ${SOURCEDIR}/src/expand/expand_command.c ${SOURCEDIR}/src/expand/expand_arg.c ${SOURCEDIR}/src/expand/expand_escape.c ${SOURCEDIR}/src/expand/expand_cat.c ${SOURCEDIR}/src/expand/expand_arith.c ${SOURCEDIR}/src/debug/debug_unquoted.c ${SOURCEDIR}/src/debug/debug_redir.c ${SOURCEDIR}/src/debug/debug_realloc.c ${SOURCEDIR}/src/debug/debug_stralloc.c ${SOURCEDIR}/src/debug/debug_alloc.c ${SOURCEDIR}/src/debug/debug_ulong.c ${SOURCEDIR}/src/debug/debug_subst.c ${SOURCEDIR}/src/debug/debug_memory.c ${SOURCEDIR}/src/debug/debug_begin.c ${SOURCEDIR}/src/debug/debug_sublist.c ${SOURCEDIR}/src/debug/debug_list.c ${SOURCEDIR}/src/debug/debug_node.c ${SOURCEDIR}/src/debug/debug_ptr.c ${SOURCEDIR}/src/debug/debug_error.c ${SOURCEDIR}/src/debug/debug_free.c ${SOURCEDIR}/src/debug/debug_space.c ${SOURCEDIR}/src/debug/debug_str.c ${SOURCEDIR}/src/debug/debug_subnode.c ${SOURCEDIR}/src/debug/debug_char.c ${SOURCEDIR}/src/debug/debug_end.c ${SOURCEDIR}/src/fdtable.h ${SOURCEDIR}/src/debug.h ${SOURCEDIR}/src/var/var_hsearch.c ${SOURCEDIR}/src/var/var_chflg.c ${SOURCEDIR}/src/var/var_print.c ${SOURCEDIR}/src/var/var_vdefault.c ${SOURCEDIR}/src/var/var_len.c ${SOURCEDIR}/src/var/var_import.c ${SOURCEDIR}/src/var/var_unset.c ${SOURCEDIR}/src/var/var_create.c ${SOURCEDIR}/src/var/var_dump.c ${SOURCEDIR}/src/var/var_setvsa.c ${SOURCEDIR}/src/var/var_bsearch.c ${SOURCEDIR}/src/var/var_set.c ${SOURCEDIR}/src/var/var_lexhash.c ${SOURCEDIR}/src/var/var_search.c ${SOURCEDIR}/src/var/var_copys.c ${SOURCEDIR}/src/var/var_init.c ${SOURCEDIR}/src/var/var_setsa.c ${SOURCEDIR}/src/var/var_cleanup.c ${SOURCEDIR}/src/var/var_value.c ${SOURCEDIR}/src/var/var_get.c ${SOURCEDIR}/src/var/var_export.c ${SOURCEDIR}/src/var/var_count.c ${SOURCEDIR}/src/var/var_valid.c ${SOURCEDIR}/src/var/var_rndhash.c ${SOURCEDIR}/src/var/var_vlen.c ${SOURCEDIR}/src/var/var_setvint.c ${SOURCEDIR}/src/eval/eval_loop.c ${SOURCEDIR}/src/eval/eval_push.c ${SOURCEDIR}/src/eval/eval_jump.c ${SOURCEDIR}/src/eval/eval_and_or.c ${SOURCEDIR}/src/eval/eval_for.c ${SOURCEDIR}/src/eval/eval_cmdlist.c ${SOURCEDIR}/src/eval/eval_case.c ${SOURCEDIR}/src/eval/eval_simple_command.c ${SOURCEDIR}/src/eval/eval_if.c ${SOURCEDIR}/src/eval/eval_tree.c ${SOURCEDIR}/src/eval/eval_command.c ${SOURCEDIR}/src/eval/eval_subshell.c ${SOURCEDIR}/src/eval/eval_pipeline.c ${SOURCEDIR}/src/eval/eval_pop.c ${SOURCEDIR}/src/fdtable/fdtable_here.c ${SOURCEDIR}/src/fdtable/fdtable_wish.c ${SOURCEDIR}/src/fdtable/fdtable_newfd.c ${SOURCEDIR}/src/fdtable/fdtable_open.c ${SOURCEDIR}/src/fdtable/fdtable_check.c ${SOURCEDIR}/src/fdtable/fdtable_resolve.c ${SOURCEDIR}/src/fdtable/fdtable_link.c ${SOURCEDIR}/src/fdtable/fdtable_dump.c ${SOURCEDIR}/src/fdtable/fdtable_close.c ${SOURCEDIR}/src/fdtable/fdtable_up.c ${SOURCEDIR}/src/fdtable/fdtable_unlink.c ${SOURCEDIR}/src/fdtable/fdtable_track.c ${SOURCEDIR}/src/fdtable/fdtable_gap.c ${SOURCEDIR}/src/fdtable/fdtable_exec.c ${SOURCEDIR}/src/fdtable/fdtable_unexpected.c ${SOURCEDIR}/src/fdtable/fdtable_table.c ${SOURCEDIR}/src/fdtable/fdtable_lazy.c ${SOURCEDIR}/src/fdtable/fdtable_dup.c ${SOURCEDIR}/src/vartab/vartab_hash.c ${SOURCEDIR}/src/vartab/vartab_pop.c ${SOURCEDIR}/src/vartab/vartab_add.c ${SOURCEDIR}/src/vartab/vartab_search.c ${SOURCEDIR}/src/vartab/vartab_cleanup.c ${SOURCEDIR}/src/vartab/vartab_root.c ${SOURCEDIR}/src/vartab/vartab_push.c ${SOURCEDIR}/src/vartab/vartab_print.c ${SOURCEDIR}/src/vartab/vartab_dump.c ${SOURCEDIR}/src/prompt.h ${SOURCEDIR}/src/eval.h ${SOURCEDIR}/src/term.h ${SOURCEDIR}/src/history/history_advance.c ${SOURCEDIR}/src/history/history_cmdlen.c ${SOURCEDIR}/src/history/history_free.c ${SOURCEDIR}/src/history/history_prev.c ${SOURCEDIR}/src/history/history_resize.c ${SOURCEDIR}/src/history/history_clear.c ${SOURCEDIR}/src/history/history_print.c ${SOURCEDIR}/src/history/history_load.c ${SOURCEDIR}/src/history/history_save.c ${SOURCEDIR}/src/history/history_set.c ${SOURCEDIR}/src/history/history_next.c ${SOURCEDIR}/src/sig/sig_block.c ${SOURCEDIR}/src/sig/sig_unblock.c ${SOURCEDIR}/src/exec/exec_hash.c ${SOURCEDIR}/src/exec/exec_program.c ${SOURCEDIR}/src/exec/exec_search.c ${SOURCEDIR}/src/exec/exec_create.c ${SOURCEDIR}/src/exec/exec_path.c ${SOURCEDIR}/src/exec/exec_check.c ${SOURCEDIR}/src/exec/exec_command.c ${SOURCEDIR}/src/exec/exec_error.c ${SOURCEDIR}/src/prompt/prompt_expand.c ${SOURCEDIR}/src/prompt/prompt_show.c ${SOURCEDIR}/src/prompt/prompt_escape.c ${SOURCEDIR}/src/prompt/prompt_parse.c ${SOURCEDIR}/src/tree/tree_newnode.c ${SOURCEDIR}/src/tree/tree_print.c ${SOURCEDIR}/src/tree/tree_count.c ${SOURCEDIR}/src/tree/tree_newlink.c ${SOURCEDIR}/src/tree/tree_free.c ${SOURCEDIR}/src/tree/tree_printlist.c ${SOURCEDIR}/src/expand.h ${SOURCEDIR}/src/fd/fd_subst.c ${SOURCEDIR}/src/fd/fd_string.c ${SOURCEDIR}/src/fd/fd_error.c ${SOURCEDIR}/src/fd/fd_stat.c ${SOURCEDIR}/src/fd/fd_tempfile.c ${SOURCEDIR}/src/fd/fd_pop.c ${SOURCEDIR}/src/fd/fd_getname.c ${SOURCEDIR}/src/fd/fd_print.c ${SOURCEDIR}/src/fd/fd_push.c ${SOURCEDIR}/src/fd/fd_mmap.c ${SOURCEDIR}/src/fd/fd_setbuf.c ${SOURCEDIR}/src/fd/fd_open.c ${SOURCEDIR}/src/fd/fd_free.c ${SOURCEDIR}/src/fd/fd_needbuf.c ${SOURCEDIR}/src/fd/fd_dup.c ${SOURCEDIR}/src/fd/fd_dump.c ${SOURCEDIR}/src/fd/fd_init.c ${SOURCEDIR}/src/fd/fd_allocbuf.c ${SOURCEDIR}/src/fd/fd_here.c ${SOURCEDIR}/src/fd/fd_pipe.c ${SOURCEDIR}/src/fd/fd_close.c ${SOURCEDIR}/src/fd/fd_dumplist.c ${SOURCEDIR}/src/fd/fd_new.c ${SOURCEDIR}/src/fd/fd_null.c ${SOURCEDIR}/src/fd/fd_list.c ${SOURCEDIR}/src/fd/fd_reinit.c ${SOURCEDIR}/src/fd/fd_exec.c ${SOURCEDIR}/src/fd/fd_setfd.c ${SOURCEDIR}/src/tree.h ${SOURCEDIR}/src/builtin.h ${SOURCEDIR}/src/sh/sh_msg.c ${SOURCEDIR}/src/sh/sh_subshell.c ${SOURCEDIR}/src/sh/sh_popargs.c ${SOURCEDIR}/src/sh/sh_setargs.c ${SOURCEDIR}/src/sh/sh_pushargs.c ${SOURCEDIR}/src/sh/sh_usage.c ${SOURCEDIR}/src/sh/sh_root.c ${SOURCEDIR}/src/sh/sh_gethome.c ${SOURCEDIR}/src/sh/sh_init.c ${SOURCEDIR}/src/sh/sh_push.c ${SOURCEDIR}/src/sh/sh_exit.c ${SOURCEDIR}/src/sh/sh_loop.c ${SOURCEDIR}/src/sh/sh_pop.c ${SOURCEDIR}/src/sh/sh_errorn.c ${SOURCEDIR}/src/sh/sh_forked.c ${SOURCEDIR}/src/sh/sh_getcwd.c ${SOURCEDIR}/src/sh/sh_main.c ${SOURCEDIR}/src/sh/sh_error.c ${SOURCEDIR}/src/job.h ${SOURCEDIR}/src/source.h ${SOURCEDIR}/src/term/term_restore.c ${SOURCEDIR}/src/term/term_backspace.c ${SOURCEDIR}/src/term/term_read.c ${SOURCEDIR}/src/term/term_delete.c ${SOURCEDIR}/src/term/term_right.c ${SOURCEDIR}/src/term/term_home.c ${SOURCEDIR}/src/term/term_init.c ${SOURCEDIR}/src/term/term_left.c ${SOURCEDIR}/src/term/term_newline.c ${SOURCEDIR}/src/term/term_overwritec.c ${SOURCEDIR}/src/term/term_insertc.c ${SOURCEDIR}/src/term/term_ansi.c ${SOURCEDIR}/src/term/term_escape.c ${SOURCEDIR}/src/term/term_attr.c ${SOURCEDIR}/src/term/term_end.c ${SOURCEDIR}/src/term/term_getline.c ${SOURCEDIR}/src/term/term_setline.c ${SOURCEDIR}/src/term/term_winsize.c ${SOURCEDIR}/src/builtin/builtin_pwd.c ${SOURCEDIR}/src/builtin/builtin_set.c ${SOURCEDIR}/src/builtin/builtin_export.c ${SOURCEDIR}/src/builtin/builtin_hash.c ${SOURCEDIR}/src/builtin/builtin_unset.c ${SOURCEDIR}/src/builtin/builtin_cd.c ${SOURCEDIR}/src/builtin/builtin_history.c ${SOURCEDIR}/src/builtin/builtin_hostname.c ${SOURCEDIR}/src/builtin/builtin_source.c ${SOURCEDIR}/src/builtin/builtin_false.c ${SOURCEDIR}/src/builtin/builtin_fdtable.c ${SOURCEDIR}/src/builtin/builtin_exec.c ${SOURCEDIR}/src/builtin/builtin_table.c ${SOURCEDIR}/src/builtin/builtin_dirname.c ${SOURCEDIR}/src/builtin/builtin_echo.c ${SOURCEDIR}/src/builtin/builtin_exit.c ${SOURCEDIR}/src/builtin/builtin_eval.c ${SOURCEDIR}/src/builtin/builtin_break.c ${SOURCEDIR}/src/builtin/builtin_shift.c ${SOURCEDIR}/src/builtin/builtin_true.c ${SOURCEDIR}/src/builtin/builtin_test.c ${SOURCEDIR}/src/builtin/builtin_search.c ${SOURCEDIR}/src/builtin/builtin_error.c ${SOURCEDIR}/src/builtin/builtin_dump.c ${SOURCEDIR}/src/builtin/builtin_basename.c ${SOURCEDIR}/src/exec.h ${SOURCEDIR}/src/history.h ${SOURCEDIR}/src/parse.h ${SOURCEDIR}/src/parse/parse_string.c ${SOURCEDIR}/src/parse/parse_here.c ${SOURCEDIR}/src/parse/parse_chartable.c ${SOURCEDIR}/src/parse/parse_squoted.c ${SOURCEDIR}/src/parse/parse_validname.c ${SOURCEDIR}/src/parse/parse_error.c ${SOURCEDIR}/src/parse/parse_dquoted.c ${SOURCEDIR}/src/parse/parse_word.c ${SOURCEDIR}/src/parse/parse_unquoted.c ${SOURCEDIR}/src/parse/parse_bquoted.c ${SOURCEDIR}/src/parse/parse_keyword.c ${SOURCEDIR}/src/parse/parse_loop.c ${SOURCEDIR}/src/parse/parse_skipspace.c ${SOURCEDIR}/src/parse/parse_case.c ${SOURCEDIR}/src/parse/parse_compound_list.c ${SOURCEDIR}/src/parse/parse_if.c ${SOURCEDIR}/src/parse/parse_tokname.c ${SOURCEDIR}/src/parse/parse_param.c ${SOURCEDIR}/src/parse/parse_for.c ${SOURCEDIR}/src/parse/parse_arith.c ${SOURCEDIR}/src/parse/parse_getarg.c ${SOURCEDIR}/src/parse/parse_and_or.c ${SOURCEDIR}/src/parse/parse_gettok.c ${SOURCEDIR}/src/parse/parse_grouping.c ${SOURCEDIR}/src/parse/parse_list.c ${SOURCEDIR}/src/parse/parse_expect.c ${SOURCEDIR}/src/parse/parse_subst.c ${SOURCEDIR}/src/parse/parse_init.c ${SOURCEDIR}/src/parse/parse_tokens.c ${SOURCEDIR}/src/parse/parse_simple_command.c ${SOURCEDIR}/src/parse/parse_pipeline.c ${SOURCEDIR}/src/parse/parse_function.c ${SOURCEDIR}/src/parse/parse_command.c ${SOURCEDIR}/src/parse/parse_newnode.c ${SOURCEDIR}/src/parse/parse_simpletok.c ${SOURCEDIR}/src/sh.h ${SOURCEDIR}/src/source/source_next.c ${SOURCEDIR}/src/source/source_peekn.c ${SOURCEDIR}/src/source/source_pop.c ${SOURCEDIR}/src/source/source_newline.c ${SOURCEDIR}/src/source/source_msg.c ${SOURCEDIR}/src/source/source_get.c ${SOURCEDIR}/src/source/source_push.c ${SOURCEDIR}/src/source/source_skip.c ${SOURCEDIR}/src/source/source_flush.c ${SOURCEDIR}/src/source/source_peek.c ${SOURCEDIR}/src/fdstack.h)

add_executable(shish ${SOURCES})
target_link_libraries(shish libshish)
